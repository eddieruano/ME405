<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Lab0 A/D Converter: adc Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>adc Class Reference</h1><!-- doxytag: class="adc" -->
<p>This class <b>will</b> run the A/D converter on an AVR processor.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="adc_8h_source.html">adc.h</a>&gt;</code></p>

<p><a href="classadc-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadc.html#af3b8262c08f5fc5ae325a20622883424">adc</a> (emstream *=NULL)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This constructor sets up an A/D converter.  <a href="#af3b8262c08f5fc5ae325a20622883424"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadc.html#a2190a59696a7093e1ea605e998ccf97e">read_once</a> (uint8_t)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method takes one A/D reading from the given channel and returns it.  <a href="#a2190a59696a7093e1ea605e998ccf97e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadc.html#a58f1030fe64d3dea4ccd8a2687dd6fce">read_oversampled</a> (uint8_t, uint8_t)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method takes multiple readings specified by an input parameter from a particular channel and return the average of those readings.  <a href="#a58f1030fe64d3dea4ccd8a2687dd6fce"></a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a14680b48b723bf1adddd2741ebb18a3e"></a><!-- doxytag: member="adc::ptr_to_serial" ref="a14680b48b723bf1adddd2741ebb18a3e" args="" -->
emstream *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadc.html#a14680b48b723bf1adddd2741ebb18a3e">ptr_to_serial</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The ADC class uses this pointer to the serial port to say hello. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This class <b>will</b> run the A/D converter on an AVR processor. </p>
<p>It should have some better comments. Yes, this is a <b>subtle</b> <b>hint</b>... <b>Please</b> <b>fix</b> <b>these</b> <b>comments</b> <b>before</b> <b>turning</b> <b>this</b> <b>in!</b> </p>

<p>Definition at line <a class="el" href="adc_8h_source.html#l00046">46</a> of file <a class="el" href="adc_8h_source.html">adc.h</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af3b8262c08f5fc5ae325a20622883424"></a><!-- doxytag: member="adc::adc" ref="af3b8262c08f5fc5ae325a20622883424" args="(emstream *=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">adc::adc </td>
          <td>(</td>
          <td class="paramtype">emstream *&nbsp;</td>
          <td class="paramname"> <em>p_serial_port</em> = <code>NULL</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This constructor sets up an A/D converter. </p>
<p>This constructor takes the pointer given to it and initializes itself. Also, here we set the voltage refrence and enable the A/D converter as well as set the prescaler to 32, through some bitshifting. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_serial_port</em>&nbsp;</td><td>A pointer to the serial port which writes debugging info. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="adc_8cpp_source.html#l00039">39</a> of file <a class="el" href="adc_8cpp_source.html">adc.cpp</a>.</p>

<p>References <a class="el" href="adc_8h_source.html#l00050">ptr_to_serial</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a2190a59696a7093e1ea605e998ccf97e"></a><!-- doxytag: member="adc::read_once" ref="a2190a59696a7093e1ea605e998ccf97e" args="(uint8_t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t adc::read_once </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>ch</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This method takes one A/D reading from the given channel and returns it. </p>
<p>Given a channel, this method first checks to make sure only valid channels are accepted by setting any outside parameter to channel 0. Then we set the correct register to enable the A/D and use a while loop to wait until the completion bit is 0. At that point, the loop breaks and the results stored in ADCL and ADCH are concatenated into the 16 bit return value. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ch</em>&nbsp;</td><td>The A/D channel which is being read must be from 0 to 7 </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ADC_value, the 16 bit returned value of the concatendated High and Low results. </dd></dl>

<p>Definition at line <a class="el" href="adc_8cpp_source.html#l00061">61</a> of file <a class="el" href="adc_8cpp_source.html">adc.cpp</a>.</p>

<p>Referenced by <a class="el" href="adc_8cpp_source.html#l00096">read_oversampled()</a>, and <a class="el" href="task__brightness_8cpp_source.html#l00067">task_brightness::run()</a>.</p>

</div>
</div>
<a class="anchor" id="a58f1030fe64d3dea4ccd8a2687dd6fce"></a><!-- doxytag: member="adc::read_oversampled" ref="a58f1030fe64d3dea4ccd8a2687dd6fce" args="(uint8_t, uint8_t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t adc::read_oversampled </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>samples</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This method takes multiple readings specified by an input parameter from a particular channel and return the average of those readings. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>channel</em>&nbsp;</td><td>this parameter specifies which channel we're going to be averaging </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>samples</em>&nbsp;</td><td>this specifies how many samples we're going to be taking and serves as the basis for our average division. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>average_result, this is the average value read over that channel per those samples. </dd></dl>

<p>Definition at line <a class="el" href="adc_8cpp_source.html#l00096">96</a> of file <a class="el" href="adc_8cpp_source.html">adc.cpp</a>.</p>

<p>References <a class="el" href="adc_8cpp_source.html#l00061">read_once()</a>.</p>

<p>Referenced by <a class="el" href="adc_8cpp_source.html#l00133">operator&lt;&lt;()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="adc_8h_source.html">adc.h</a></li>
<li><a class="el" href="adc_8cpp_source.html">adc.cpp</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 7 Apr 2016 for Lab0 A/D Converter by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
