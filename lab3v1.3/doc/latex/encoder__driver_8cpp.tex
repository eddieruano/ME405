\hypertarget{encoder__driver_8cpp}{\section{encoder\-\_\-driver.\-cpp File Reference}
\label{encoder__driver_8cpp}\index{encoder\-\_\-driver.\-cpp@{encoder\-\_\-driver.\-cpp}}
}


This class is the encoder driver class.  


{\ttfamily \#include $<$stdlib.\-h$>$}\\*
{\ttfamily \#include $<$avr/io.\-h$>$}\\*
{\ttfamily \#include $<$avr/interrupt.\-h$>$}\\*
{\ttfamily \#include \char`\"{}rs232int.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}encoder\-\_\-driver.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}queue.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}adc.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}motor\-\_\-driver.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}time\-\_\-stamp.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}taskbase.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}taskqueue.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}textqueue.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}taskshare.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}shares.\-h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\hypertarget{encoder__driver_8cpp_a0d35304aa63a16be77271ffca02908df}{\#define \hyperlink{encoder__driver_8cpp_a0d35304aa63a16be77271ffca02908df}{S\-H\-I\-F\-T\-\_\-\-P\-E6}~64}\label{encoder__driver_8cpp_a0d35304aa63a16be77271ffca02908df}

\begin{DoxyCompactList}\small\item\em 1 shifted left by 6 (64) \end{DoxyCompactList}\item 
\hypertarget{encoder__driver_8cpp_afb50f1c19688fdb4421712df2d8d73c7}{\#define \hyperlink{encoder__driver_8cpp_afb50f1c19688fdb4421712df2d8d73c7}{S\-H\-I\-F\-T\-\_\-\-P\-E7}~128}\label{encoder__driver_8cpp_afb50f1c19688fdb4421712df2d8d73c7}

\begin{DoxyCompactList}\small\item\em 1 shifted left by 6 (64) \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{encoder__driver_8cpp_a28be307ba14efb36d0965f4be9c19b62}{I\-S\-R} (I\-N\-T6\-\_\-vect)
\begin{DoxyCompactList}\small\item\em This I\-S\-R triggers when a rising or falling edge of a wave is detected on pin E6. \end{DoxyCompactList}\item 
\hyperlink{encoder__driver_8cpp_ac1f2634c95627d8eae02f2ac2a789300}{I\-S\-R} (I\-N\-T7\-\_\-vect)
\begin{DoxyCompactList}\small\item\em This I\-S\-R triggers when a rising or falling edge of a wave is detected on pin E7. \end{DoxyCompactList}\item 
emstream \& \hyperlink{encoder__driver_8cpp_a87986fa29958758d3d017815125c0d8d}{operator$<$$<$} (emstream \&serpt, \hyperlink{classencoder__driver}{encoder\-\_\-driver} \&encdrv)
\begin{DoxyCompactList}\small\item\em This overloaded operator prints information about a encoder driver. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class is the encoder driver class. This class creates an instance of a motor assuming caller gives all the correct and legal addresses and pin values, driver is able to map a motor to one of the two H bridge modules on the Custom M\-E 405 board.

\begin{DoxyAuthor}{Author}
Eddie Ruano
\end{DoxyAuthor}
Revisions\-: @ 4/27/2016 finished fixing bug in I\-S\-R @ 4/16/2016 added bitops.\-h library for setting unsetting bits @ 4/12/2016 main structure created License\-: This file is copyright 2016 by Eddie Ruano and released under the Lesser G\-N\-U Public License, version 2. It intended for educational use only, but its use is not limited thereto. 

Definition in file \hyperlink{encoder__driver_8cpp_source}{encoder\-\_\-driver.\-cpp}.



\subsection{Function Documentation}
\hypertarget{encoder__driver_8cpp_a28be307ba14efb36d0965f4be9c19b62}{\index{encoder\-\_\-driver.\-cpp@{encoder\-\_\-driver.\-cpp}!I\-S\-R@{I\-S\-R}}
\index{I\-S\-R@{I\-S\-R}!encoder_driver.cpp@{encoder\-\_\-driver.\-cpp}}
\subsubsection[{I\-S\-R}]{\setlength{\rightskip}{0pt plus 5cm}I\-S\-R (
\begin{DoxyParamCaption}
\item[{I\-N\-T6\-\_\-vect}]{}
\end{DoxyParamCaption}
)}}\label{encoder__driver_8cpp_a28be307ba14efb36d0965f4be9c19b62}


This I\-S\-R triggers when a rising or falling edge of a wave is detected on pin E6. 

This I\-S\-R checks to see if a condition is true, if both waves are at high then we can arbitrarily call that clockwise or countercw and deduce logic from there as long as we are consistent in I\-S\-R7.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em I\-N\-T\&\-\_\-vect} & a constant value mask that tells this I\-S\-R that the pin it need to look out for is pin E6 \\
\hline
\end{DoxyParams}


Definition at line 132 of file encoder\-\_\-driver.\-cpp.



References encoder\-\_\-count, encoder\-\_\-errors, S\-H\-I\-F\-T\-\_\-\-P\-E6, S\-H\-I\-F\-T\-\_\-\-P\-E7, and the\-\_\-state.

\hypertarget{encoder__driver_8cpp_ac1f2634c95627d8eae02f2ac2a789300}{\index{encoder\-\_\-driver.\-cpp@{encoder\-\_\-driver.\-cpp}!I\-S\-R@{I\-S\-R}}
\index{I\-S\-R@{I\-S\-R}!encoder_driver.cpp@{encoder\-\_\-driver.\-cpp}}
\subsubsection[{I\-S\-R}]{\setlength{\rightskip}{0pt plus 5cm}I\-S\-R (
\begin{DoxyParamCaption}
\item[{I\-N\-T7\-\_\-vect}]{}
\end{DoxyParamCaption}
)}}\label{encoder__driver_8cpp_ac1f2634c95627d8eae02f2ac2a789300}


This I\-S\-R triggers when a rising or falling edge of a wave is detected on pin E7. 

This I\-S\-R checks to see if a condition is true, if both waves are at high then we can arbitrarily call that clockwise or countercw and deduce logic from there as long as we are consistent in I\-S\-R7.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em I\-N\-T\&\-\_\-vect} & a constant value mask that tells this I\-S\-R that the pin it need to look out for is pin E7 \\
\hline
\end{DoxyParams}


Definition at line 194 of file encoder\-\_\-driver.\-cpp.



References encoder\-\_\-count, encoder\-\_\-errors, S\-H\-I\-F\-T\-\_\-\-P\-E6, S\-H\-I\-F\-T\-\_\-\-P\-E7, and the\-\_\-state.

\hypertarget{encoder__driver_8cpp_a87986fa29958758d3d017815125c0d8d}{\index{encoder\-\_\-driver.\-cpp@{encoder\-\_\-driver.\-cpp}!operator$<$$<$@{operator$<$$<$}}
\index{operator$<$$<$@{operator$<$$<$}!encoder_driver.cpp@{encoder\-\_\-driver.\-cpp}}
\subsubsection[{operator$<$$<$}]{\setlength{\rightskip}{0pt plus 5cm}emstream\& operator$<$$<$ (
\begin{DoxyParamCaption}
\item[{emstream \&}]{serpt, }
\item[{{\bf encoder\-\_\-driver} \&}]{encdrv}
\end{DoxyParamCaption}
)}}\label{encoder__driver_8cpp_a87986fa29958758d3d017815125c0d8d}


This overloaded operator prints information about a encoder driver. 

This operator prints useful info about particular given motor driver.

It prints out appropriate information about the encoder driver being delivered in the parameter. 
\begin{DoxyParams}{Parameters}
{\em serpt} & Reference to a serial port to which the printout will be printed \\
\hline
{\em a2d} & Reference to the encoder driver which is being accessed \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A reference to the same serial device on which we write information. This is used to string together things to write with {\ttfamily $<$$<$} operators 
\end{DoxyReturn}


Definition at line 252 of file encoder\-\_\-driver.\-cpp.

